{{ 'section-featured-collection.css' | asset_url | stylesheet_tag }}

<div class="collection-container page-width">
  <div class="collection-title">
    <h2>{{ section.settings.title }}</h2>
  </div>

  <ul class="products-container">
    {% for item in section.settings.collection.products %}
      <li class="product-card">
        <a href="{{ item.url }}" class="product-link">
          <div class="product-image-container">
            <img src="{{ item.featured_image | img_url: 'master' }}" class="product-image primary-image" alt="{{ item.title }}" height="250" width="250" >
            <img src="{{ item.images[1].src | img_url: 'master' }}" class="product-image secondary-image" alt="{{ item.title }}">
          </div>
          <div class="product-info">
            <h4 class='product-title'>{{ item.title }}</h4>
            <p class='product-price'>{{ item.price | money }}</p>
            {% if product.available %}
                <p class="available">Beschikbaar</p>
            {% else %}
                <p class="sold-out">Uitverkocht</p>
            {% endif %}
            <ul class='product-color'></ul>
          </div>
        </a>
      </li>
    {% endfor %}
  </ul>
  {% render 'all-products-button' %}
</div>

{% schema %}
{
  "name": "Custom Collection",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "Check out our"
    },
    {
      "type": "collection",
      "id": "collection",
      "label": "Base Collection"
    },
    {
      "type": "text",
      "id": "all-products-button",
      "label": "All products link",
      "default": "See all products"
    },
    {
      "type": "url",
      "id": "all-products-button-url",
      "label": "Button URL"
    }
  ],
  "presets": [
    {
      "name": "Custom Collection"
    }
  ]
}
{% endschema %}
